<!doctype html>
<html>
    <head>
        <base href="/">
        <title>Super Chat</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--link rel="stylesheet" href="styles.css"-->
        <script src="node_modules/core-js/client/shim.min.js"></script>
        <script src="node_modules/zone.js/dist/zone.js"></script>
        <script src="node_modules/reflect-metadata/Reflect.js"></script>
        <script src="node_modules/systemjs/dist/system.src.js"></script>
        <script src="systemjs.config.js"></script>
        <script>
            System.import('app').catch(function(err){ console.error(err); });
        </script>
    </head>
    <body>
        <chat-app>Loading...</chat-app>
    </body>
</html>
<!--html>
  <head>
    <title>Super chat</title>
    <!--style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 13px Helvetica, Arial; }
      form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
      form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px; }
      #messages li:nth-child(odd) { background: #eee; }
    </style-->
  <!--/head>
  <body>
    <ul id="messages"></ul>
    <form action="">
      <input id="m" autocomplete="off" /><button>Send</button>
    </form>
    <script src="http://localhost:8080/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>
        //If server is not listening on 8080 then change the port (on the url above as well)
        var socket = io("http://localhost:8080");
        $('form').submit(function(){
            var message = { message : $('#m').val(), id : socket.io.engine.id , token : 'todo: replace for actual token' };
            socket.emit('globalMessage', message);
            $('#m').val('');
            return false;
        });
        socket.on('globalMessage', function(data){
            if(data.id == socket.io.engine.id ){
                //Put own messages in red
                $('#messages').append($('<li style="color:red">').text(data.message));    
            } else {
                $('#messages').append($('<li>').text(data.message));
            }
        });
    </script>
  </body>
</html-->